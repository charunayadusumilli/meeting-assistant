{"version":3,"file":"scope-to-main.js","sources":["../../../src/renderer/integrations/scope-to-main.ts"],"sourcesContent":["import { defineIntegration, normalize } from '@sentry/core';\nimport { addScopeListener } from '../../common/scope.js';\nimport { getIPC } from '../ipc.js';\n\n/**\n * Passes scope changes to the main process.\n */\nexport const scopeToMainIntegration = defineIntegration(() => {\n  return {\n    name: 'ScopeToMain',\n    setup(client) {\n      const ipc = getIPC(client);\n\n      addScopeListener((merged, changed) => {\n        ipc.sendScope(JSON.stringify(normalize(merged, 20, 2_000)));\n        changed.clearBreadcrumbs();\n        changed.clearAttachments();\n      });\n    },\n  };\n});\n"],"names":[],"mappings":";;;;AAIA;;AAEG;AACI,MAAM,sBAAsB,GAAG,iBAAiB,CAAC,MAAK;IAC3D,OAAO;AACL,QAAA,IAAI,EAAE,aAAa;AACnB,QAAA,KAAK,CAAC,MAAM,EAAA;AACV,YAAA,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;AAE1B,YAAA,gBAAgB,CAAC,CAAC,MAAM,EAAE,OAAO,KAAI;AACnC,gBAAA,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,IAAK,CAAC,CAAC,CAAC;gBAC3D,OAAO,CAAC,gBAAgB,EAAE;gBAC1B,OAAO,CAAC,gBAAgB,EAAE;AAC5B,YAAA,CAAC,CAAC;QACJ,CAAC;KACF;AACH,CAAC;;;;"}